# Занятие 12. Сетевые операции.

## Общая теория
Вам уже приходилось использовать сетевые операции для выполнения заданий. Однако, суть этого занятия в том, чтобы ознакомиться с тем, как вообще работает сеть.

1. [Сетевая модель OSI](https://ru.wikipedia.org/wiki/Сетевая_модель_OSI). Сразу в табличке уровней обратите внимание на столбик "примеры".
2. Наш главный бог - протокол [IPv4](https://ru.wikipedia.org/wiki/IPv4).
3. Протоколы [TCP](https://ru.wikipedia.org/wiki/Transmission_Control_Protocol) и [UDP](https://ru.wikipedia.org/wiki/User_Datagram_Protocol).
4. Протокол [HTTP](https://ru.wikipedia.org/wiki/HTTP) и [FTP](https://ru.wikipedia.org/wiki/FTP).
5. [DNS](https://ru.wikipedia.org/wiki/DNS) -- тут просто нужно чтобы вы понимали, что это такое.

Кроме уже готовых протоколов прикладного уровня (HTTP,FTP), никто не запрещает нам реализовывать собственные. Обычно это делается с помощью [сокетов]().
[Тут пример](https://habrahabr.ru/post/301190/) использования сокетов для Android.

## Реализация в Android
Теперь можно и посмотреть как работать с сетью и сетевыми сервисами конкретно на платформе Anroid.
[Эта статья](
https://github.com/codepath/android_guides/wiki/Sending-and-Managing-Network-Requests) раскрывает эту тему достаточно неплохо. 

### Third-party библиотеки
* Обратите внимание на штатную реализацию android framework-a (HttpUrlRequest).
* Посмотрите документацию и примеры по библиотекам [Retrofit] и [Picasso].
* [Firebase](firebase.google.com) -- есть такая штука :)

### multipart
Еще есть классическая задача файлов на сервер с мобильных устройств, которая нормально решается только с [помощью multipart](http://stackoverflow.com/questions/16958448/what-is-http-multipart-request).

## Результаты
* Понимать, что такое *Сетевая модель OSI*, и на каких уровнях мы можем работать.
* Знать основные методы протокола HTTP (и чем *PUT* отличается от *POST*) а также пару основных кодов ошибок.
* Протокол *IPv4* -- зачем и как устроен. Зачем придумали *IPv6*.
* Зачем нужен *DNS*.
* Sockets -- что это.
* Как можно ускрорить работу с сетью а также избежать ошибок, крешей и утечек памяти.
* Как вы думаете, как криворукие программисты отправляют файлы на сервер и как надо это делать правильно.
* Firebase - какие есть еще подобные сервисы.

## Задание
Заданий будет несколько.

1. Написать приложение, которое реализует *CRUD* (Create Read Update Delete) API. Можете выбрать любое API, или настроить свое используя [этот мануал и код](https://www.leaseweb.com/labs/2015/10/creating-a-simple-rest-api-in-php/).
Приложение должно показывать список сущностей, давать возможность добавлять, редактировать и удалять элементы. Это может быть список пользователей, машин, рецепты тортов.
Лучше всего использовать retorfit.
Перед тем как начать писать, пожалуйста покопайтесь на гитхабе и посмотрите примеры.
2. Написать приложение -- **чат внутри сети**. Приложение должно показывать список пользователей внутри сети, не используя сканирование адресов. В чате только одна общая комната. Реализация интерфейса отсылки сообщений самая простая.

**Hacker edition** по заданию 1: Сохранять все локально в БД и синхронизировать с сервером.
